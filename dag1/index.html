<!doctype html>  
<html lang="en">
	
	<head>
		<meta charset="utf-8">
		
		<title>reveal.js - The HTML Presentation Framework</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
		
		<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
		
		<link rel="stylesheet" href="../reveal.js/css/main.css">
		<link rel="stylesheet" href="../reveal.js/css/theme/default.css">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="../reveal.js/lib/css/zenburn.css">

		<!--[if lt IE 9]>
		<script src="../reveal.js/lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>
	
	<body>
		
		<div class="reveal">

			<!-- Used to fade in a background when a specific slide state is reached -->
			<div class="state-background"></div>
			
			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				
				<!-- INTRO -->
				
				<section data-markdown>
					# SCALA KURS #
					### Jon-Anders Teigen
					### [Arktekk](http://arktekk.no)
					### [@jteigen](http://github.com/jteigen)
				</section>			
				
				<section>
					<h2><font color="red"> ♥</font> MASSE programmering <font color="red"> ♥</font></h2>
					<h2><font color="red"> ♥</font> MASSE teori <font color="red"> ♥</font></h2>
				</section>
				
				<section>
					<h2>Pauser når dere føler for det!</h2>
			    </section>
			
				<section data-markdown>
					## Kloke hoder tenker best sammen ##
					* Jobb i par
					* Diskuter i par/felleskap
					* Spør om hjelp om dere sitter fast					
				</section>
				
				<section data-markdown>
					## Men først ... ##
					* Hvem er du ?
					* Hva har du lyst til å lære ?					
				</section>
				
				<section data-markdown>
					## *Ladies and gentlemen, start your engines..* ##
					* [IntelliJ](http://www.jetbrains.com/idea/) / [Eclipse](http://scala-ide.org/)
					* [SBT](https://github.com/harrah/xsbt/wiki/Getting-Started-Setup)
					* [Git](http://help.github.com/win-set-up-git/)					
				</section>
				
				<!-- BASICS -->
				<section>
				<h2> literals </h2>
				<pre><code class="scala">
"hello"             // string
"""a multi
line "string"
"""                 // multiline escaped string
5                   // int
5.5                 // double
5f                  // float
1e30f               // float exponential
1.0e-100            // exponential double
0xA                 // 10 hex int
012                 // 10 octal int
1000L               // long
'a'                 // character
'\u0041'            // unicode character
&lt;hello/&gt;            // xml
true false          // boolean
'alright            // symbol
null
				</code></pre>
                </section>

				<section data-markdown>
				## variabler ##
				```scala	
				var foo = 5
				foo = 6

				// eksplisitt typet
				var foo:Int = 5
				```

				</section>

				<section data-markdown>
				## values ##
				```scala
				val x = "Hello"

				// eksplisitt typet
				val x:String = "Hello"
				```

				</section>

				<section data-markdown>
				## metode ##
				```scala
				def foo:Int = {
				  return 5
				}
				```

				</section>

				<section data-markdown>
				## metode ##
				```scala
				def foo:Int = {
				  5
				}

				// siste expression returneres alltid
				```

				</section>

				<section data-markdown>
				## metode ##
				```scala
				def foo = {
				  5
				}

				// return type inference
				```

				</section>

				<section data-markdown>
				## metode ##
				```scala
				def foo = 5

				// single expression
				```

				</section>

				<section data-markdown>
				## void/Unit metoder ##
				```scala
				def something(i:Int):Unit = {
				  println("Do " + i)
				}
				```

				</section>

				<section data-markdown>
				## void/Unit metoder ##
				```scala
				def something(i:Int) {
				  println("Do " + i)
				}

				// return type inference og ingen =
				```

				</section>

				<section data-markdown>
				## void/Unit uten parameter ##
				```scala
				def printSomething(){
				  println("something")
				}

				// () indikerer sideeffekt
				```

				</section>

				<section data-markdown>
				## nøstet definisjon ##
				```scala
				val nesting = {
				  def plus(a:Int, b:Int) = a + b
				  val x = {
				    val y = 5 - 3
				    y - 2	
				  }
				  val z = plus(x, 10)
				  z / 2
				}
				```

				</section>

				<section data-markdown>
				## lazy ##
				```scala
				lazy val person = {
				  println("fra DB")
				  DB.findPersonByPk(5)
				}
				println("etter")
				person.name

				// etter
				// fra DB
				```

				</section>

				<section data-markdown>
				## equality ##
				```scala
				val a = new String("Hello")
				val b = new String("Hello")

				a == b // true (java equals)
				a eq b // false (java ==)
				```

				</section>

				<section data-markdown>
				## Java ##
				```java
				class Person {
				  private final String name;
				  private Integer age;

				  public Person(String name, Integer age){
				    this.name = name;
				    this.age = age;
				  }

				  public String getName(){
				    return name;
				  }

				  public Integer getAge(){
				    return age;
				  }

				  public void setAge(Integer age){
				    this.age = age;
				  }

				  public static Person create30(String name){
				    return new Person(name, 30);
				  }

				  @Override
				  public String toString(){
				    return "["+name+","+age+"]";
				  }
				}
				```

				</section>

				<section data-markdown>
				## object / class ##
				```scala
				object Person {
				  def create30(name:String) = new Person(name, 30)
				}

				class Person(val name: String, var age: Int){
				  override def toString = "["+name+","+age+"]"
				}

				```
				</section>

				<section data-markdown>
				## unified access ##
				```scala
				class Person(private val _name: String,
				             private var _age: Int) {

				  def name = _name	

				  def age = _age	

				  def age_=(a:Int){
				    _age = a	
				  }
				}
				```

				</section>

				<section data-markdown>
				## unified access ##
				```scala
				val person = Person.create30("foo")

				person.name // foo

				person.age = 29
				person.age // 29
				```

				</section>

				<section>
				<h2> tuples </h2>
				<pre><code class="language-scala">
val ab = (5, "Hello")
val ab = 5 -> "Hello"

val abc = (5.5, "World", List(1, 2, 3))

ab._1 == 5
ab._2 == "Hello"

abc._3 == List(1, 2, 3)
				</code></pre>
				</section>

				<section>
				<h2> collections </h2>
				
				<a href="collections.png">
					<img src="collections.png">
				</a>

				</section>

				<section>
				<h2> "literals" </h2>
				<pre><code class="language-scala">
val list   = List(1, 2, 3)
val map    = Map(1 -> "a", 2 -> "3")
val set    = Set("a", "b", "c")
val vector = Vector("a", "b", "c")
val array  = Array(1, 2, 3)
val range  = 1 to 10
				</code></pre>

				</section>

				<section>
				<h2> mutable </h2>
				<a href="mutable.png">
				<img src="mutable.png"/>
				</a>

				</section>

				<section>
				<pre><code class="language-scala">
import collection.mutable._

val buffer = new ArrayBuffer[Int]

buffer += 1
buffer += 2

buffer -= 1

buffer.foreach(element => println(element))

for(element <- buffer)
  println(element)
				</code></pre>

				</section>

				<section>
				<pre><code class="language-scala">
import collection.mutable._

val map = new HashMap[Int, String]
map += (1 -> "World")
map += (2 -> "World")

map -= 1
map(2) = "Oh yeah"
				</code></pre>

				</section>

				<section>
				<h2> immutable </h2>
				<a href="immutable.png">
					<img src="immutable.png">
				</a>

				</section>

				<section>
				<pre><code class="language-scala">
val list = List(1, 2, 3)
val cons = 1 :: 2 :: 3 :: Nil

val map = Map(1 -> "Hello")
val helloWorld = map + (2 -> "World")
val world = helloWorld - 1

val vector = Vector(1, 2)
val done = vector :+ 3
				</code></pre>

				</section>

				<section>
				<h2> map </h2>
				<pre><code class="language-scala">
trait List[+A]{
  def map[B](f:A => B):List[B] = ...
}

val list = List(1, 2, 3, 4)

list.map(element => element * 2)
// List(2, 4, 6, 8)
				</code></pre>

				</section>

				<section>
				<h2> filter & filterNot </h2>
				<pre><code class="language-scala">
trait List[+A]{
  def filter(f:A => Boolean):List[A] = ...
}

val list = List(1, 2, 3, 4)

list.filter(element => element % 2 == 0)
// List(2, 4)

list.filterNot(element => element % 2 == 0)
// List(1, 3)
				</code></pre>

				</section>

				<section>
				<h2> flatMap </h2>
				<pre><code class="language-scala">
trait List[+A]{
  def flatMap[B](f:A => Traversable[B]):List[B] = ...
}

class Person(val pets:List[String])

val family = List(
               new Person(List("Dog", "Cat")), 
               new Person(List("Fish")))

val familyPets = family.flatMap(p => p.pets)
// List("Dog", "Cat", "Fish")

val strings = List("a,b,c", "d,e,f").flatMap(s => s.split(","))
// List(a, b, c, d, e, f)
				</code></pre>

				</section>

				<section>
				<h2> mer funksjonalitet </h2>
				<pre><code class="language-scala">
val first10 = list.take(10)

val dropped = list.drop(5)

val familier:Map[String, List[Person]] =
  personer.groupBy(_.etternavn)

val fornavn:Map[String, List[String]] = 
  familier.mapValues(personer => personer.map(_.fornavn))

val sortert:Seq[(String, List[String])] =
  fornavn.toSeq.sortBy(_._1.size)

List(1, 2, 3).contains(2) == true
				</code></pre>

				</section>

				<section data-markdown>
				## Null<font color="red"> ♥</font> ? ##
				```
				import java.util.HashMap
				val map = new HashMap[Int, String]
				map.put(0, null)
				...
				map.get(0) // null
				map.get(1) // null

				if(map.containsKey(0)){
				  return map.get(0)
				}
				```

				</section>

				<section>
				<h2> Option </h2>
				<pre><code class="language-scala">
val map = Map(1 -> "Hello", 2 -> "World")
map.get(1) // Some("Hello")
map.get(0) // None

map(1) // "Hello"
map(0) // java.util.NoSuchElementException
				</code></pre>

				</section>

				<section>
				<h2> Option </h2>
				<pre><code>
trait Option[+A] {
  def get:A // eller java.util.NoSuchElementException
  def getOrElse(a:A):A
  def map(f:A => B):Option[B]
  def flatMap(f:A => Option[B]):Option[B]
}

object None extends Option[Nothing]
case class Some[A](value:A) extends Option[A]
				</code></pre>

				</section>

				<section data-markdown>
				```scala
				class Adresse(val gate:String, val post:Option[String])
				class Person(val navn:String, val adresse:Option[Adresse])

				val kaare = new Person("Kaare", 
				              Some(new Adresse("Herr Nilsen", Some("Oslo")))

				val jonanders = new Person("Jon-Anders", None)

				jonanders.adresse.map(_.gate) // None
				kaare.adresse.map(_.gate)     // Some("Herr Nilsen")

				val jAddr = jonanders.adresse.flatMap(_.post) // None
				val kAddr = kaare.adresse.flatMap(_.post)     // Some("Oslo")

				jAddr.getOrElse("Ingen adresse") // "Ingen adresse"
				kAddr.get // "Oslo"
				jAddr.get // java.util.NoSuchElementException
				```

				</section>

				<section data-markdown>
				## NullPointerException <font color="red"> ♥</font> ? ##
				```java
				class Stuff {
				  /* can be null */	
				  public String getIt(){ ... }
				}
				```
				```scala
				val stuff:Option[String] = Option(stuff.getIt)
				```

				</section>

				<section data-markdown>
				# Oppgavetid :-) #
				Datamining!

				[https://github.com/arktekk/scala-kurs-oppgaver/tree/master/buzzword](https://github.com/arktekk/scala-kurs-oppgaver/tree/master/buzzword)
				</section>
				
				
				<!-- ADVANCED -->
				<section>
					<h2> functions </h2>
					<pre><code class="language-scala">
val length:String => Int =
  in => in.length

def takesAFun(f:String => Int) = {
  val word = "Hello World"
  f(word)
}

takesAFun(length)

takesAFun(in => in.length)

takesAFun(_.length)
				</code></pre>
				</section>
				
				<section>
				<pre><code class="language-scala">
val noArg:() => Int =
  () => 10

def takesNoArg(f:() => Int) = {
  val anInt = f()
  5 + anInt
}

takesNoArg(noArg)

takesNoArg(() => 10)
				</code></pre>

				</section>
				<section>
					<h2> call by name </h2>	
					<pre><code class="language-scala">
def callByName(f: => Int) = {
  val anInt = f
  5 + anInt
}

callByName(5)

def callByNameIgnore(f: => Int){
  5 + 10
}

callByNameIgnore(throw new Exception("who cares?"))
// ingen exception kastet
					</code></pre>

				</section>
				<section>
					<h2> parameter sets </h2>
					<pre><code class="language-scala">
def multiple(name:String)(age:Int) {
  println(name + " is " + age + " years old")
}

multiple("Mr Java")(99)

multiple("Mr Scala"){
  5 + 10
}
				</code></pre>

				</section>
				<section>
					<pre><code class="language-scala">
def debug(name:String)(expr: => String){
  val logger = Logger.getLogger(name)
  if(logger.isDebugEnabled){
    logger.debug(expr)	
  }
}

debug("database"){
  DB.reallyHeavyOperation.mkString(",")
}
				</code></pre>

				</section>
				<section>
				<h2> partial application </h2>
				<pre><code class="language-scala">
def printIt(name:String) = println("Look, its " + name)

val partiallyApplied:String => Unit = printIt _

partiallyApplied("pretty cool")
// Look, its pretty cool
				</code></pre>

				</section>
				<section>
					<pre><code class="language-scala">
val later = new ListBuffer[() => Unit]

def register(f: => Unit){
  later += f _
}

register(println("Hello"))
register(println("World"))
register(throw new Exception("Oh noes"))

println("Go!")
later.foreach(f => f())
/*
Go!
Hello
World
java.lang.Exception: Oh noes
  at ....
*/
				</code></pre>

				</section>
				<section>
				<h2> tuples </h2>
				<pre><code class="language-scala">
val twoThings = (5, "A String")

twoThings._1 // 5
twoThings._2 // "A String"

val listOfTuples:List[(Int, String)] =
  List(5 -> "A String", 6 -> "Another")

val aMap = listOfTuples.toMap // Map(5 -> "A String", 6 -> "Another")

val (even, odd) = list.partition(_ % 2 == 0)
				</code></pre>
				</section>
				<section>
				<h2> traits </h2>
				<pre><code class="language-scala">
trait Mult {
  def mult(a:Int, b:Int) = a * b
}

trait Add {
  def add(a:Int, b:Int) = a + b
}

object Calc extends Mult with Add

Calc.mult(4, Calc.add(1, 2))
				</code></pre>

				</section>
				<section>
				<h2> traits (stackable modifications) </h2>
				<pre><code class="language-scala">
trait Rule {
  def convert(int:Int) = int.toString
}

trait Fizz extends Rule {
  override def convert(int:Int) =
    if(int % 3 == 0) "Fizz" else super.convert(int)
}

trait Buzz extends Rule {
  override def convert(int:Int) =
    if(int % 5 == 0) "Buzz" else super.convert(int)
}

trait FizzBuzz extends Rule {
  override def convert(int:Int) =
    if(int % 3 == 0 && int % 5 == 0) "FizzBuzz"
    else super.convert(int)
}
				</code></pre>

				</section>
				<section>
				<pre><code class="language-scala">
object FizzTest extends Rule with Fizz
(0 to 15).foreach(i => println(FizzTest.convert(i)))

object BuzzTest extends Rule with Buzz
(0 to 15).foreach(i => println(BuzzTest.convert(i)))

object FizzBuzzTest extends Rule with Fizz with Buzz with FizzBuzz
(0 to 15).foreach(i => println(FizzBuzzTest.convert(i)))

object BuzzFizzTest extends Rule with FizzBuzz with Fizz with Buzz
(0 to 15).foreach(i => println(BuzzFizzTest.convert(i)))
				</code></pre>

				</section>
				<section>
					<a href="traits.png">
						<img src="traits.png">
					</a>

				</section>
				<section>
				<h2> pattern matching & case classes </h2>
				<pre><code class="language-scala">
sealed trait Tree
case class Branch(left:Tree, right:Tree) extends Tree
case class Leaf(value:Int) extends Tree

def sum(tree:Tree):Int = tree match {
  case Branch(leaf, right) => sum(left) + sum(right)
  case Leaf(value) => value
}

val tree = Branch(
    Branch(Leaf(1), Leaf(2)),
    Branch(Leaf(3), Leaf(4)))

sum(tree)
				</code></pre>

				</section>
				<section>
				<h2> pattern matching & exceptions </h2>
				<pre><code class="language-scala">
case class SomeException(why:String) extends Exception(why)

try{
  somethingThatCanThrowAnException()
} catch {
  case SomeException(why) => println("Thats why: " + why)
  case ex:Exception => ex.printStackTrace
}
				</code></pre>

				</section>
				<section>
				<a href="pimp.png">
					<img src="pimp.png">
				</a>

				</section>
				<section>
				<h2> implicit conversions </h2>
				<pre><code class="language-scala">
class PlusMinus(i:Int){
  def +- (o:Int) = i-o to o+i
}

def plusMinus(i:Int) = new PlusMinus(i)

plusMinus(5) +- 2
//Range(3, 4, 5, 6, 7)
				</code></pre>

				</section>
				<section>
					<h2> implicit conversions </h2>
					<pre><code class="language-scala">

class PlusMinus(i:Int){
  def +- (o:Int) = i-o to o+i
}

implicit def plusMinus(i:Int) = new PlusMinus(i)

5 +- 2
//Range(3, 4, 5, 6, 7)
				</code></pre>

				</section>
				<section>
				<h1> Oppgavetid :-) </h1>
				Skriv ditt eget testrammeverk!

				<a href="https://github.com/arktekk/scala-kurs-oppgaver/tree/master/testframework">https://github.com/arktekk/scala-kurs-oppgaver/tree/master/testframework</a>
				</section>
				
				
				
				
				
				
			</div>
			
						<!-- The navigational controls UI -->
			<aside class="controls">
				<a class="left" href="#">&#x25C4;</a>
				<a class="right" href="#">&#x25BA;</a>
				<a class="up" href="#">&#x25B2;</a>
				<a class="down" href="#">&#x25BC;</a>
			</aside>

			<!-- Presentation progress bar -->
			<div class="progress"><span></span></div>

		</div>

		<script src="../reveal.js/lib/js/head.min.js"></script>
		<script src="../reveal.js/js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,

				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/linear(2d)

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: '../reveal.js/lib/js/highlight.js', async: true, callback: function() { window.hljs.initHighlightingOnLoad(); } },
					{ src: '../reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: '../reveal.js/lib/js/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '../reveal.js/lib/js/data-markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '../reveal.js/socket.io/socket.io.js', async: true, condition: function() { return window.location.host === 'localhost:1947'; } },
					{ src: '../reveal.js/plugin/speakernotes/client.js', async: true, condition: function() { return window.location.host === 'localhost:1947'; } },
				]
			});

		</script>

	</body>
</html>